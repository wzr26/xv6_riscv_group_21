â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘                                                                            â•‘
â•‘               ANIMATION CONTROL SYSTEM - QUICK REFERENCE                   â•‘
â•‘                                                                            â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

COMMANDS
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

  animctl start           Start animation (enables animation_enabled flag)
  animctl stop            Stop animation (disables animation_enabled flag)
  animctl speed <n>       Set animation speed (n = ticks per frame, 1-1000000)
  animctl view            Display real-time ASCII preview of animation
                          â€¢ Auto-exits when animation stops
                          â€¢ No need to press Ctrl+C
                          â€¢ Returns prompt: "[animctl] Animation stopped..."


WORKFLOW EXAMPLE
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

  Terminal 1                          Terminal 2
  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
  $ animctl start                     (waiting)
  [kernel] Animation started.
  
  $ animctl view                      (waiting)
  [displaying animation frames]
  [at 10ms refresh rate]              $ animctl stop
                                      [kernel] Animation stopped.
  [animation stops immediately]
  [view mode exits]                   
  [animctl] Animation stopped,
  exiting view mode
  $ <shell prompt>                    $ <shell prompt>


TECHNICAL DETAILS
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

  Animation Engine
  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
  â€¢ Triggered by 10kHz timer interrupt (kernel/trap.c)
  â€¢ Updates animation state (position, velocity, frame pacing)
  â€¢ Draws to framebuffer 128Ã—128 pixels, 32-bit RGBA
  â€¢ Speed configurable: anim_ticks_per_frame (default: 3)

  Synchronization
  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
  â€¢ animation_enabled (1 word) - read/written atomically
  â€¢ NO spinlocks in interrupt context (RISC-V guarantees atomic ops)
  â€¢ Simple flag-based control, no complex locking

  Syscalls (kernel/sysproc.c)
  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
  â€¢ start_anim()       - Set animation_enabled = 1
  â€¢ stop_anim()        - Set animation_enabled = 0
  â€¢ set_speed(n)       - Set anim_ticks_per_frame = n
  â€¢ view_anim()        - Print ASCII preview to console
  â€¢ get_anim_state()   - Return animation_enabled value [NEW Week 6]

  View Mode Improvement (Week 6)
  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
  â€¢ Added get_anim_state() syscall #28
  â€¢ animctl view loop now checks state: while(get_anim_state())
  â€¢ No more infinite loop - responsive to stop command
  â€¢ Clean exit with message


FILES STRUCTURE
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

  kernel/
    animation.c         Core animation engine
    animation.h         Animation state structures
    fb.c               Framebuffer driver
    fb.h               Framebuffer interface
    sysproc.c          Syscall implementations
    trap.c             Timer interrupt handler

  user/
    animctl.c          Animation control CLI tool
    user.h             Syscall declarations
    usys.pl            Syscall stub generator
    libfb.c            Framebuffer graphics library


DOCUMENTATION
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

  ANIMATION_SYSTEM.md         Complete architecture & design
  ANIMCTL_VIEW_MODE.md        View mode feature details
  WEEK6_IMPLEMENTATION.md     This week's changes
  VIEW_MODE_FEATURE.txt       Quick feature summary
  Animation_Project_Report.md Full project documentation


BUILD & RUN
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

  Build:
    $ cd /home/gkd2162/xv6-riscv
    $ make clean
    $ make

  Run:
    $ make qemu
    
    In QEMU:
    $ animctl start
    $ animctl view
    
    (In another terminal, while viewing:)
    $ animctl stop
    
    [View mode auto-exits]


REQUIREMENTS STATUS
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

  âœ… Requirement 1: Kernel Timer Tasks
     Animation updates triggered by 10kHz timer interrupt with pacing

  âœ… Requirement 2: Framebuffer Drawing
     128Ã—128 pixel display with rectangle rendering and colors

  âœ… Requirement 3: User Program Control
     animctl tool with start/stop/speed/view syscalls

  âœ… Bonus: Interactive View Mode
     Real-time ASCII preview with auto-exit when stopped


PROJECT STATUS
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

  Build:      âœ… Clean (no errors)
  Tested:     âœ… Compiles and links successfully
  Documented: âœ… Comprehensive documentation provided
  Git:        âœ… All changes committed with clear messages

  Ready for:  ğŸ“ Professor review and demonstration

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
